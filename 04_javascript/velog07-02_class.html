<!DOCTYPE html>
<html lang="ko">
  <head>
    <title>class</title>
    <script>
      // 부모 클래스 선언
      class Student {
        // constructor(생성자): 인스턴스 생성 시 호출되는 메서드. 객체 초기화, 속성 추가 등
        constructor(name, kor, eng, math, sci) {
          this.name = name;
          this.kor = kor;
          this.eng = eng;
          this.math = math;
          this.sci = sci;
        }

        getSubjectsNum() {
          return Object.values(this).length - 1;
        }
        getSum() {
          let res = 0;
          // prettier-ignore
          for (let score of Object.values(this).
          slice(1)) {
            res = res + score;
          }
          return res;
        }
        getAverage() {
          return this.getSum() / this.getSubjectsNum();
        }
        toString() {
          return `${this.name}\t${this.getSum()}점\t${this.getAverage()}점\n`;
        }
      }

      const students = [
        new Student("구름", 87, 98, 88, 90),
        new Student("별이", 92, 98, 96, 88),
        new Student("겨울", 76, 96, 94, 86),
        new Student("바다", 98, 52, 98, 92),
      ];

      for (let student of students) {
        console.log(student.toString());
      }

      // 자식 클래스 선언
      // extends: 상속 받을 부모 클래스 지정(다수 가능)
      class MoreSubjects extends Student {
        #soc; // #: private 속성으로 미리 선언
        constructor(name, kor, eng, math, sci, hist, soc) {
          // super: 부모 생성자 호출하는 함수
          super(name, kor, eng, math, sci);
          this.hist = hist;
          this.#soc = soc; // private 속성
        }

        // 부모 클래스와 동일한 메서드 재정의
        toString() {
          return `${
            this.name
          }\t${this.getSubjectsNum()} 과목\t${this.getSum()}점\t${this.getAverage()}점\n`;
          // 따로 메서드 정의하지 않았지만 부모 클래스로부터 상속 받아 메서드 작동
        }
      }
      const moreStudents = [
        new MoreSubjects("하늘", 91, 92, 85, 50, 99, 80),
        new MoreSubjects("대지", 71, 99, 95, 90, 81, 79),
      ];
      for (let student of moreStudents) {
        // 메서드명은 부모 클래스와 같지만 결과가 다름.
        console.log(student.toString());
      }

      // .soc는 undefined로 출력(정의되지 않은 속성)
      console.log(moreStudents[0].hist, moreStudents[0].soc);
      // SyntaxError: Private field '#soc' must be declared in an enclosing class 발생
      // console.log(moreStudents[0].#soc);
    </script>
  </head>
  <body></body>
</html>
